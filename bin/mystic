#!/usr/bin/env ruby

require "mystic"

# Examples:
# mystic create migration InitialMigration
# mystic development migrate
# mystic production rollback

case ARGV[0].to_sym
when :create
  case ARGV[1].to_sym
  when :migration
		Mystic.create_migration(ARGV[2].dup)
  end
else
  Mystic.connect(ARGV[0])
  case ARGV[1].to_sym
  when :migrate
  	Mystic.migrate
  when :rollback
  	Mystic.rollback
  end
  Mystic.disconnect
end